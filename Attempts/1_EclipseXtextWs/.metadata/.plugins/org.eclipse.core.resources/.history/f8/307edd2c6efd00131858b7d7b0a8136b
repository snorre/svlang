grammar org.svlang.v0.V0 with org.eclipse.xtext.common.Terminals

generate v0 "http://www.svlang.org/v0/V0"

Domainmodel:
	(elements += RootElement)*
;

RootElement:
	(main = Main)
	(funs += Fun)*
;

Main:
	'main {'
		(expressions += Expression)+
	'}'
;

Fun:
	{Fun}
	'fun ' name=ID ':' returnType=[Type] ' {'
		(expressions += Expression)*
	'}'
;

Expression:
	Assignment 
	| FunCall 
//	| Println
;

Assignment returns Symbol:
	{Assignment} type=[Type] name=ID ' = ' value=Atomic
;


//Println:
//	'pln(' (values += Type)+ ')'
//;

Atomic:
	{SymbolRef} symbol=[Symbol] |
	{NumberLiteral} value=INT |
	{StringLiteral} value=STRING |
	{FunCall} fun=[Fun]'()'
;

//FunCall returns Atomic:
//	name=ID '(' (parameters += Atomic)* ')'
//;

Type:
	MyIntType | MyStringType 
;

MyIntType:
	{INT} 'int'
;

MyStringType :
	{STRING} 'string'
;
